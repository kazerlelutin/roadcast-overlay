<div
  class="main-title"
  description="Titre principal style JT avec animation"
  title="Main Title"
  script="start_main_title, stop_main_title"
  tag="title, main, jt, animation"
>
  <div class="title-container">
    <div class="title-background"></div>
    <div class="title-content">
      <div class="title-main" id="title-main">ROADCAST LIVE</div>
      <div class="title-subtitle" id="title-subtitle">Émission en direct</div>
    </div>
    <div class="title-decoration">
      <div class="decoration-line"></div>
      <div class="decoration-dot"></div>
      <div class="decoration-line"></div>
    </div>
  </div>
</div>

<script>
  function start_main_title() {
    console.log('start_main_title')
    const titleContainer = document.querySelector('.title-container')
    const titleMain = document.getElementById('title-main')
    const titleSubtitle = document.getElementById('title-subtitle')
    const mainTitle = document.querySelector('.main-title')

    // Réinitialiser l'affichage
    mainTitle.style.display = 'block'
    titleContainer.style.animation = 'none'

    // Animation d'entrée
    titleContainer.style.animation = 'title-enter 2s ease-out'

    // Animation du titre principal
    setTimeout(() => {
      titleMain.style.animation = 'title-glow 3s ease-in-out infinite'
    }, 1000)

    // Animation du sous-titre
    setTimeout(() => {
      titleSubtitle.style.animation =
        'subtitle-fade 2s ease-in-out infinite alternate'
    }, 1500)
  }

  function stop_main_title() {
    console.log('stop_main_title')
    const titleContainer = document.querySelector('.title-container')
    const titleMain = document.getElementById('title-main')
    const titleSubtitle = document.getElementById('title-subtitle')
    const mainTitle = document.querySelector('.main-title')

    // Animation de sortie
    titleContainer.style.animation = 'title-exit 1s ease-in forwards'

    // Arrêter les animations
    setTimeout(() => {
      titleMain.style.animation = 'none'
      titleSubtitle.style.animation = 'none'
    }, 1000)

    // Masquer complètement après l'animation
    setTimeout(() => {
      mainTitle.style.display = 'none'
    }, 1000)
  }

  globalThis.start_main_title = start_main_title
  globalThis.stop_main_title = stop_main_title
</script>

<style>
  .main-title {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
  }

  .title-container {
    position: relative;
    text-align: center;
    padding: 2em 3em;
  }

  .title-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6));
    border-radius: 1em;
    backdrop-filter: blur(0.5em);
    border: 0.1em solid rgba(255, 255, 255, 0.1);
  }

  .title-content {
    position: relative;
    z-index: 2;
  }

  .title-main {
    font-size: 3em;
    font-weight: bold;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    margin-bottom: 0.3em;
    text-shadow: 0 0 1em rgba(255, 255, 255, 0.5);
    font-family: 'Arial Black', sans-serif;
  }

  .title-subtitle {
    font-size: 1.2em;
    color: #4ecdc4;
    font-weight: 300;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .title-decoration {
    position: absolute;
    bottom: -0.5em;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 0.5em;
  }

  .decoration-line {
    width: 2em;
    height: 0.1em;
    background: linear-gradient(90deg, transparent, #4ecdc4, transparent);
  }

  .decoration-dot {
    width: 0.3em;
    height: 0.3em;
    background: #4ecdc4;
    border-radius: 50%;
    animation: dot-pulse 2s ease-in-out infinite;
  }

  @keyframes title-enter {
    0% {
      opacity: 0;
      transform: translateY(2em) scale(0.8);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes title-exit {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translateY(-2em) scale(0.8);
    }
  }

  @keyframes title-glow {
    0%,
    100% {
      text-shadow: 0 0 1em rgba(255, 255, 255, 0.5);
    }
    50% {
      text-shadow: 0 0 2em rgba(78, 205, 196, 0.8),
        0 0 3em rgba(78, 205, 196, 0.4);
    }
  }

  @keyframes subtitle-fade {
    0% {
      opacity: 0.7;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes dot-pulse {
    0%,
    100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.5);
      opacity: 0.7;
    }
  }
</style>
